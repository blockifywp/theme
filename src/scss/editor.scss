@import "../../node_modules/prism-themes/themes/prism-material-oceanic";
@import "abstracts/align-wide";
@import "abstracts/shadow";

.edit-site-site-icon__image[src*=".svg"] {
	transform: scale(0.55);
	background: transparent;
}

.npm__react-simple-code-editor__textarea {

	&:focus {
		outline: none;
		box-shadow: none;
	}
}

// Overrides.
html .editor-styles-wrapper {
	--wp--custom--html--width: auto;

	.wp-site-blocks {
		display: flow-root;
	}

	// TODO: Is this needed?
	.wp-block-image {

		img {
			max-width: 100% !important;
		}
	}

	[src*=".svg"] {
		width: 100%;
	}

	// Needed for additional border support.
	.wp-block-button:not(.is-style-outline) {
		border: 0 !important;
	}
}

/**
 * Title.
 */

.edit-post-visual-editor__post-title-wrapper {
	text-align: center;
	margin-bottom: calc(var(--wp--style--block-gap) * 2);
}

// Always hide title.
.hide-title .edit-post-visual-editor__post-title-wrapper {
	display: none;
}

.is-cover-template .edit-post-visual-editor__post-title-wrapper {
	margin-top: 0;
	padding-top: 4rem;
	padding-bottom: var(--wp--style--block-gap);
	background-color: red;
}

// Page title field.
.edit-post-post-schedule ~ .components-panel__row {
	flex-wrap: wrap;

	.components-base-control {
		width: 100%;
		margin: 0.5em 0;
	}
}

.blockify-page-title-setting {
	width: 100%;
}

// Style variation.
.editor-styles-wrapper.wp-embed-responsive {

	> div,
	> iframe {
		pointer-events: all !important;
	}

}

// Template parts.
.blockify-template-parts {

	.components-base-control {
		width: 100%;
	}
}

/**
 * Extensions.
 */

.blockify-controls {
	order: 2;

	.components-panel__row,
	.components-base-control {
		width: 100%;

		label {
			width: 100% !important;
		}
	}

	&.is-opened .components-panel__body-title {
		margin-bottom: 1em;
	}

	.block-editor-panel-color-gradient-settings {
		border: 0;
		padding: 0;
	}

	.block-editor-tools-panel-color-gradient-settings__item.first {
		margin-top: 0;
	}
}


/**
 * Formats.
 */

.blockify-gradient-text-control {

	.components-popover__content {
		padding: 0.5em;
	}
}

.block-editor-block-inspector {

	> div:not([class*=""]) {
		display: flex;
		flex-wrap: wrap;

		> * {
			width: 100%;
		}
	}
}

.is-style-toggle input {
	display: none;
}

.editor-styles-wrapper .is-style-toggle .wp-block-search__inside-wrapper {
	background: transparent !important;
	min-width: 0 !important;
}

header.wp-block-template-part {
	z-index: 3;
}

.is-transparent-header {
	position: absolute;
}

.editor-styles-wrapper .is-layout-flow > p {
	margin-top: var(--wp--style--block-gap, 1em);
}

.blockify-min-height-control {
	border-top: 0 !important;
}

.block-editor-block-preview__live-content .components-placeholder {
	display: flex !important;
}

[class*="has-aspect-ratio-"] {

	.components-placeholder {
		min-height: 1em;
	}

	.components-placeholder__fieldset {
		height: 0;
	}
}

.is-placeholder.is-selected,
.is-placeholder.has-child-selected {

	.components-placeholder__fieldset {
		height: auto;
	}
}

.blockify-settings .components-base-control__help {
	margin-top: 8px;
}

.blockify-settings .block-editor-panel-color-gradient-settings {
	padding: 8px 0 0;
	border: 0;
}


/**
 * Icons.
 */

div:has(> .blockify-icon-settings) {
	display: flex;
	flex-wrap: wrap;

	> div {
		width: 100%;
	}

	.components-tools-panel {
		display: none;
	}
}

.blockify-icon-settings {
	order: -1;

	select {
		text-transform: capitalize;
	}
}

.blockify-icon-setting {

	.components-input-control__container {
		width: 100%;
	}

	svg {
		width: 2em;
		height: 2em;
	}

	.components-custom-select-control__button {
		width: 100%;
	}

	.components-custom-select-control__menu[aria-hidden="false"] {
		display: flex;
		flex-wrap: wrap;
	}

	.components-custom-select-control__item {
		width: 42px;
	}

	.components-custom-select-control__item-icon {
		display: none;
	}
}

.blockify-icon-preview {
	margin-top: 27px;
	position: absolute;
	width: 220px;
	display: flex;
	flex-wrap: wrap;
	align-items: center;
	text-transform: capitalize;
	z-index: 9;
	pointer-events: none;

	svg {
		width: 24px;
		margin: 0 8px;
	}
}


// Hide site logo placeholder when icon is set.
.is-style-icon .components-placeholder__illustration {
	display: none !important;
}

.is-style-icon.wp-block-site-logo .components-placeholder {
	min-width: 0;
	min-height: 0;
}

.editor-styles-wrapper div [style*="--wp--custom--icon--"] {
	background: transparent !important;
	float: none !important;
	padding: 0 !important;
	border: 0 !important;
	margin-left: 0 !important;
	margin-right: 0 !important;
	box-shadow: none !important;

	&.wp-block-button {

		[data-rich-text-placeholder] {
			display: none;
		}
	}

	.components-placeholder__illustration,
	img,
	figcaption,
	iframe,
	fieldset,
	.components-placeholder__label {
		display: none !important;
	}

	&.alignleft > div:first-of-type {
		margin-left: 0;
	}

	&.alignright > div:first-of-type {
		margin-right: 0;
	}

	> div:first-of-type:not(.wp-block-button__link) {
		border-radius: inherit !important;
		border-width: var(--wp--custom--icon--border-width, 0) !important;
		border-style: var(--wp--custom--icon--border-style, solid) !important;
		border-color: var(--wp--custom--icon--border-color, currentColor) !important;
		background: var(--wp--custom--icon--background, transparent) !important;
		color: inherit !important;
		box-shadow: none;
		background-color: var(--wp--custom--icon--background, transparent) !important;
		padding: var(--wp--custom--icon--padding, 0);
	}

	> div:first-of-type {
		display: inline-flex;
		position: relative;
		margin-left: auto;
		margin-right: auto;
		width: auto !important;
		height: auto !important;
		min-height: 0;
		min-width: var(--wp--custom--icon--size, 30px);

		&::after {
			content: "";
			display: inline-block;
			position: relative;
			background: var(--wp--custom--icon--color, currentColor);
			width: var(--wp--custom--icon--size, 1em);
			height: var(--wp--custom--icon--size, 1em);
			margin: auto;
			vertical-align: text-bottom;
			order: var(--wp--custom--icon--order, 0);
			-webkit-mask-image: var(--wp--custom--icon--url);
			-webkit-mask-position: center;
			-webkit-mask-repeat: no-repeat;
			-webkit-mask-size: cover !important;
		}
	}
}

// Can't use important.
.wp-block-image.wp-block-image.is-selected .components-placeholder {
	box-shadow: none;
	background-color: transparent;
}

.blockify-icon-popover > div > div {
	padding: 16px;
	width: 260px;
}

.blockify-icon-color.is-opened {
	padding: 0;
	border: 0;

	.components-panel__body-title {
		margin: 0;

		button {
			padding: 0 0 10px;
		}

		svg {
			display: none;
		}
	}
}

.blockify-overflow-control {
	align-content: flex-start;
	align-items: flex-start;
	gap: 8px;
}

.blockify-icon-color {
	padding: 0 !important;
	border-top: 0 !important;

	h2,
	.components-dropdown-menu {
		display: none;
	}
}

.wp-block-video > div,
.components-placeholder {
	border-radius: inherit !important;
}

.is-layout-constrained {

	> .wp-block-video:not([class*="align"]) {
		max-width: 100%;
	}
}

.blockify-underline-format > div {
	padding: 1em;
	display: flex;
	flex-wrap: wrap;
	width: 20em;
	gap: 1em;

	> div,
	select {
		width: 100%;
	}
}

.blockify-conic-gradient-settings {
	padding: 1.5em 0 0 !important;
	border: 0 !important;

	h2 {
		margin-bottom: 1em !important;
	}

	.components-dropdown-menu__toggle {
		display: none;
	}

	> div {
		margin-top: 0 !important;
	}
}

[aria-label="Gradient: Conic"] {
	background: var(--wp--preset--gradient--conic) !important;
}

// Layout margin issue when justified right.
div .wp-block-navigation__responsive-close {
	max-width: none;
}

// For gradients.
.block-editor-block-preview__container {
	background: var(--wp--custom--body--background, var(--wp--preset--color--white, #fff));
}

// Allow events on style variation iframe click.
.edit-site-global-styles-preview__iframe {
	pointer-events: none;
}

.editor-styles-wrapper .wp-block-navigation.is-vertical {
	margin-top: var(--wp--style--block-gap, 1em);
}

.wp-block-navigation:not(.is-vertical) .wp-block-navigation-item__content {
	white-space: nowrap;
}

.is-dark-theme .components-placeholder.has-illustration,
.components-placeholder.has-illustration::before {
	opacity: 1;
	background: transparent;

	.is-style-icon & {
		display: none;
	}
}

.components-placeholder__illustration {
	stroke-width: var(--wp--custom--border--width);
	stroke-opacity: 1;
	border-width: var(--wp--custom--border--width, 1px);
	border-style: var(--wp--custom--placeholder--border-style, dashed);
	stroke-dasharray: 3;
	border-color: var(--wp--custom--border--color, currentColor);
	stroke: var(--wp--custom--border--color, currentColor);
	border-radius: var(--wp--custom--border--radius, 0);
	color: var(--wp--preset--color--outline);
	opacity: 0;
}

.components-placeholder.has-illustration {
	backdrop-filter: none;
	border: 0;
	overflow: inherit;
	background: var(--wp--custom--placeholder--background, var(--wp--custom--surface--background));

	.has-background > & {
		background: transparent;
	}
}

.blockify-width-control {

	.components-flex-item {
		width: 50%;

		.components-flex-item {
			width: 100%;
		}
	}
}

.blockify-font-size-control,
.blockify-font-family-control {

	> div {
		width: 240px;
		padding: 1em;
	}
}

.blockify-controls-tabs {

	.components-tab-panel__tabs {
		margin: -16px -16px 16px;
		box-shadow: inset 0 -1px 0 0 #e0e0e0;
	}

	svg {
		height: 24px;
	}

	small {
		display: block;
		font-size: 12px;
		font-style: normal;
		color: rgb(117, 117, 117);
	}
}

// Text format.
.blockify-svg-control {

	> div {
		padding: 16px;
	}
}

// Variation settings.
.blockify-svg-controls {
	order: -1;
}

.is-style-svg {

	> div {
		display: flex;
	}
}

.blockify-control-label {
	font-size: 11px;
	font-weight: 500;
	line-height: 1.4;
	text-transform: uppercase;
	display: inline-flex;
	align-items: center;
	gap: 4px;
	margin: 8px 0;
	padding: 0;

	+ .components-button-group {
		display: flex;
	}
}

.blockify-animate-controls {

	.components-flex-item:last-of-type {

		> div {
			margin-bottom: 0;
		}
	}
}

.blockify-controls {

	hr {

		+ .components-panel__row {
			margin-top: -6px;
		}
	}
}

.is-selected,
.has-child-selected {

	&.is-marquee > * {
		animation: 0 !important;
		animation-direction: normal !important;
		transform: none !important;
	}
}

.is-marquee.wp-block {
	flex-direction: row !important;

	@media (prefers-reduced-motion) {

		&:not(.is-selected,.has-child-selected) {
			> * {
				animation-direction: normal !important;
			}
		}
	}
}

.is-marquee.is-selected,
.is-marquee.has-child-selected {
	animation: 0 !important;
	animation-direction: normal !important;
	transform: none !important;
}

body .is-marquee {
	min-width: 100%;
}

img[style*="toggle-switch"] {
	position: absolute;
	left: 4px;
}

.inherit-layout > *:not(.alignfull,.alignwide) {
	max-width: var(--wp--custom--layout--content-size);
}

.is-layout-constrained > .alignwide {
	max-width: 100%;
}

.wp-block-post-content:not(.is-root-container) {

	> .alignwide {

		@include alignwide;
	}
}

.is-style-accordion {
	list-style: none;
	padding: 0;
	margin: 0;

	ul {
		list-style: none;
	}

	li {
		width: 100%;
		position: relative;

		div {
			position: relative;

			&::after,
			&::before {
				content: "";
				margin: 0.75em 0 0 0;
				width: 12px;
				height: 1.5px;
				display: inline-block !important;
				background: currentcolor;
				position: absolute;
				right: 0;
				top: 0;
			}

			&::after {
				transform: rotate(90deg);
			}
		}
	}
}

.blockify-filter-settings {
	display: grid;
	grid-template-columns: 1fr 1fr 1fr;
	gap: 16px 8px;

	.components-input-control {
		margin-bottom: 0 !important;
	}
}

.blockify-flex-controls {
	margin-bottom: 16px !important;

	&:last-of-type {
		margin-bottom: 0 !important;
	}

	.components-flex-item {
		flex: 1;
		max-width: 100%;

		label {
			display: flex !important;
		}
	}

	.blockify-animate-controls & {
		align-items: flex-start;
	}

	.block-editor-panel-color-gradient-settings {
		padding: 0;
	}

	.block-editor-tools-panel-color-gradient-settings__item {
		margin: 0 !important;
		padding: 0 !important;
		border-top: 0;
	}
}

.blockify-filter-settings {

	.components-flex-item {
		max-width: 100%;

		label {
			display: flex !important;
		}
	}
}

.blockify-tools-panel {

	.components-button-group {
		display: flex;
	}

	input[type="number"]::-webkit-inner-spin-button,
	input[type="number"]::-webkit-outer-spin-button {
		opacity: 1;
	}

	.components-button {
		min-width: 30px !important;
	}

	.components-tools-panel-item {
		padding-top: 16px;
		margin-top: 8px;
		position: relative;

		&::before {
			content: "";
			display: block;
			position: absolute;
			top: 0;
			left: -16px;
			right: -16px;
			border-top: 1px solid #e0e0e0;
		}

		&:first-of-type::before {
			display: none;
		}
	}

	.components-tools-panel-header + .components-tools-panel-item {
		padding-top: 0;
		margin-top: 0;

		&::before {
			display: none;
		}
	}
}

.blockify-display-controls,
.blockify-animate-controls {
	flex-wrap: wrap;
}

.entities-saved-states__text-prompt + .is-opened strong {
	text-transform: capitalize;
}

.blockify-shadow-presets {
	display: grid;
	grid-template-columns: repeat(4, 1fr);
	justify-content: space-between;
	gap: 12px;
	width: 100%;
	margin-bottom: 16px;

	.components-button {
		display: flex;
		justify-content: center;
		height: 54px;
		width: 54px;
		border-radius: 60px !important;
		font-size: 10px !important;
		box-shadow: var(--wp--custom--button--box-shadow);
	}

	@each $preset in $presets {
		.has-#{$preset}-shadow,
		.has-#{$preset}-shadow-hover {
			box-shadow: var(--wp--preset--shadow--#{$preset});
		}

		.has-#{$preset}-shadow-hover:hover,
		.has-#{$preset}-shadow-hover:focus {
			box-shadow: var(--wp--preset--shadow--#{$preset});
		}
	}
}

.block-editor-link-control__search-item-top {
	flex-wrap: wrap;
}

.block-editor-link-control__search-item-action.block-editor-link-control__unlink {
	margin-left: 0;
}

.post-type-download .is-root-container.wp-block-post-content {
	max-width: var(--wp--style--global--content-size, 90%);
	margin-bottom: var(--wp--style--block-gap, 1em);
}

.edit-site-visual-editor {

	> .components-resizable-box__container {
		height: 100% !important;
	}
}

.is-selected.is-style-surface::after {
	backdrop-filter: none !important;
	pointer-events: none;
}

.post-type-wp_block {

	.alignfull {

		.alignfull {
			max-width: 100%;
			margin-left: auto !important;
			margin-right: auto !important;
		}
	}
}
