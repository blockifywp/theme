@import "../abstracts/border";
@import "../abstracts/button";
@import "../abstracts/notice";
@import "../abstracts/surface";

$padding: var(--wp--custom--button--padding-top, 1em) var(--wp--custom--button--padding-top, 1.2em) var(--wp--custom--button--padding-bottom, 1em);

.edd-stripe-card-element {
	padding: $padding;
}

div#edd_secure_site_wrapper {
	position: relative;
	display: flex;
	align-items: center;
	line-height: 1;
	gap: 0.5em;
	color: forestgreen;
	padding: 0.5em;
	font-size: var(--wp--preset--font-size--small);
	margin: 0 0 var(--wp--style--block-gap, 1em);
	border: var(--wp--custom--border--width, 1px) var(--wp--custom--border--style, solid) currentcolor;
	border-radius: var(--wp--custom--border--radius);

	&::before {
		content: "";
		display: block;
		position: absolute;
		inset: 0;
		background: currentcolor;
		opacity: 0.1;
	}

	svg {
		fill: currentcolor;
	}

	span {
		font-weight: var(--wp--custom--heading--font-weight);
	}
}

.edd-description {
	font-size: smaller;
	display: block;
	margin-bottom: var(--wp--style--block-gap, 1em);
}

.edd-blocks__confirmation {
	border: var(--wp--custom--border);
	border-radius: var(--wp--custom--border--radius);
	padding: var(--wp--style--block-gap, 1em);

	h3,
	&-details {
		margin: 0;
		padding: 1rem;
	}
}

.edd-cart-added-alert {
	display: inline-flex;
	align-items: center;
	margin-left: 0.5em;

	svg {
		fill: currentcolor;
		height: 1em;
		width: 1em;
		margin-right: 0.25em;
	}
}

.edd-blocks-form__cart #edd_checkout_cart,
.wp-block-edd-checkout #edd_purchase_form .edd-blocks-form {
	border: var(--wp--custom--border);
	border-radius: var(--wp--custom--border--radius);
}

.edd-blocks-form__cart .edd-blocks-cart__items,
.edd-blocks-form__cart .edd-blocks-cart__row-header {
	border-bottom: var(--wp--custom--border);
}

.edd-blocks-form__cart .edd-blocks-cart__row {
	align-items: flex-start;
	gap: var(--wp--style--block-gap, 1em);
	flex-wrap: nowrap;
}

.wp-block-edd-checkout #edd-payment-mode-wrap label.edd-gateway-option.edd-gateway-option-selected,
.wp-block-edd-checkout #edd-payment-mode-wrap label.edd-gateway-option:hover {
	background-color: currentcolor;
	-webkit-text-fill-color: var(--wp--preset--color--background);
}

.wp-block-edd-checkout #edd-payment-mode-wrap {
	gap: calc(var(--wp--style--block-gap, 1em) / 2);
}

.edd_price_options {

	ul {
		padding: 0;
		list-style: none;
	}

	li {
		margin-bottom: calc(var(--wp--style--block-gap, 1em) / 2);
	}

	input {
		margin-left: 0;
	}
}

.edd-blocks__download-header {
	display: flex;
	flex-direction: column;
	gap: var(--wp--style--block-gap, 1em);

	h3 {
		margin: 0;
	}

	a {
		text-decoration: none;
	}
}

.edd-blocks__download-footer {
	margin-top: var(--wp--style--block-gap, 1em);
}

.edd-blocks__download-image {
	border-radius: var(--wp--custom--border--radius);
}

.edd-payment-icons {
	display: flex;
	gap: calc(var(--wp--style--block-gap, 1em) / 2);
	margin: calc(var(--wp--style--block-gap, 1em) * 2) 0;

	svg {
		border-radius: 3px;
		width: 50px;
	}
}

.icon-americanexpress {
	background-color: #026fcf;
}

.edd_cart_item .edd_cart_item_name {
	display: flex;
	gap: var(--wp--style--block-gap, 1em);
}

.edd-gateway-option {
	display: inline-block;
	margin-right: var(--wp--style--block-gap, 1em);
	width: calc(50% - (var(--wp--style--block-gap, 1em) / 4));
	transform: none !important;
}

.edd-gateway {
	margin-left: 0;
	margin-right: calc(var(--wp--style--block-gap, 1em) / 2);
}

.edd-blocks-form {

	@include border;

	.description {

		@include notice;

		color: currentcolor;
	}
}

.wp-block-edd-register #pass-strength-result {
	border-radius: var(--wp--custom--border--radius);
	color: currentcolor;
	font-size: smaller;
}

.edd-blocks-form__group-remember .edd-blocks-form__control {
	display: flex;
	gap: calc(var(--wp--style--block-gap, 1em) / 2);
	margin-bottom: calc(var(--wp--style--block-gap, 1em) / 2);

	input,
	label {
		margin: 0;
	}
}

.edd-blocks-orders__order {
	border: var(--wp--custom--border);
	border-radius: var(--wp--custom--border--radius);
	padding: var(--wp--style--block-gap, 1em);
	margin-bottom: var(--wp--style--block-gap, 1em);
}

.edd_purchase_submit_wrapper {
	align-items: center;
}

.edd-cart-added-alert {
	font-size: smaller;
	margin: 0;
}

.wp-block-edd-checkout #edd_purchase_form .edd-button-secondary,
.edd-button-secondary {

	@include button;

	&:active,
	&:hover,
	&:focus {
		transform: none;
		opacity: var(--wp--custom--button--hover-opacity, 0.82);
	}
}

.edd-blocks__download-content {
	font-size: var(--wp--preset--font-size--18);
}

.wp-block-edd-terms {
	gap: var(--wp--style--block-gap, 1em);
}

.edd-blocks__term-title {

	h3 {
		font-size: inherit;
	}
}

.edd-blocks__term {
	display: flex;
	justify-content: center;

	@include surface;

	a {
		text-decoration: none;
	}
}

.edd-blocks-form__cart .edd-blocks-cart__action-remove,
.edd-blocks-form__cart .edd_discount_remove {
	opacity: 1;
	background-image: none;
	background-color: currentColor;
	-webkit-mask-image: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMWVtIiBoZWlnaHQ9IjFlbSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBmaWxsPSJub25lIiB2aWV3Qm94PSIwIDAgMjQgMjQiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2U9ImN1cnJlbnRDb2xvciIgY2xhc3M9InctNiBoLTYiPgogIDxwYXRoIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgZD0iTTE0Ljc0IDlsLS4zNDYgOW0tNC43ODggMEw5LjI2IDltOS45NjgtMy4yMWMuMzQyLjA1Mi42ODIuMTA3IDEuMDIyLjE2Nm0tMS4wMjItLjE2NUwxOC4xNiAxOS42NzNhMi4yNSAyLjI1IDAgMDEtMi4yNDQgMi4wNzdIOC4wODRhMi4yNSAyLjI1IDAgMDEtMi4yNDQtMi4wNzdMNC43NzIgNS43OW0xNC40NTYgMGE0OC4xMDggNDguMTA4IDAgMDAtMy40NzgtLjM5N20tMTIgLjU2MmMuMzQtLjA1OS42OC0uMTE0IDEuMDIyLS4xNjVtMCAwYTQ4LjExIDQ4LjExIDAgMDEzLjQ3OC0uMzk3bTcuNSAwdi0uOTE2YzAtMS4xOC0uOTEtMi4xNjQtMi4wOS0yLjIwMWE1MS45NjQgNTEuOTY0IDAgMDAtMy4zMiAwYy0xLjE4LjAzNy0yLjA5IDEuMDIyLTIuMDkgMi4yMDF2LjkxNm03LjUgMGE0OC42NjcgNDguNjY3IDAgMDAtNy41IDAiIC8+Cjwvc3ZnPgo=);
	-webkit-mask-position: center;
	-webkit-mask-repeat: no-repeat;
	-webkit-mask-size: cover !important;
}

@media (min-width: 600px) {

	.edd-blocks__checkout-forms {
		position: relative;
		right: auto;
		z-index: auto;
	}
}
